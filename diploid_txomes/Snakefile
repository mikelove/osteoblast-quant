configfile: "config.json"

rule all:
    input:
        expand("snps/{strain}.vci.gz", strain=config["strain"])

rule vcf2vci:
    input: 
        vcf = "snps/{file}.mgp.v5.indels.dbSNP142.normed.vcf.gz",
        fasta = "fasta/Mus_musculus.GRCm38.dna.primary_assembly_bgzip.fa.gz"
    output: "snps/{file}.vci.gz"
    shell: 
        "g2gtools vcf2vci -p 8 -i {input.vcf} -o {output} "
        "-s {wildcards.file} -f {input.fasta}"
